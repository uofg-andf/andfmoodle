{"version":3,"sources":["../src/starredcourses.js"],"names":["define","$","init","each","html","children","sort","a","b","attr","hide","show","click","removeClass","addClass","sortable","cancel","disableSelection","link","parent","replace","title","find","text","append","courseOrder","push","Number","post","o","join","remove"],"mappings":"AAAAA,OAAM,iCAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,+CAAvB,CAAD,CAA0E,SAASC,CAAT,CAAY,CAExF,MAAO,CACHC,IAAI,CAAE,eAAW,CAEbD,CAAC,CAAC,iBAAD,CAAD,CAAqBE,IAArB,CAA0B,UAAW,CAClCF,CAAC,CAAC,IAAD,CAAD,CAAQG,IAAR,CAAaH,CAAC,CAAC,IAAD,CAAD,CAAQI,QAAR,CAAiB,IAAjB,EAAuBC,IAAvB,CAA4B,SAASC,CAAT,CAAYC,CAAZ,CAAc,CAClD,MAAQP,CAAAA,CAAC,CAACO,CAAD,CAAD,CAAKC,IAAL,CAAU,OAAV,CAAD,CAAwBR,CAAC,CAACM,CAAD,CAAD,CAAKE,IAAL,CAAU,OAAV,CAAxB,CAA8C,CAA9C,CAAkD,CAAC,CAC7D,CAFW,CAAb,CAGF,CAJD,EAMAR,CAAC,CAAC,cAAD,CAAD,CAAkBS,IAAlB,GACAT,CAAC,CAAC,mBAAD,CAAD,CAAuBU,IAAvB,GACAV,CAAC,CAAC,mBAAD,CAAD,CAAuBW,KAAvB,CAA6B,UAAW,CACpCX,CAAC,CAAC,mBAAD,CAAD,CAAuBS,IAAvB,GACAT,CAAC,CAAC,cAAD,CAAD,CAAkBU,IAAlB,GACAV,CAAC,CAAC,mBAAD,CAAD,CAAuBY,WAAvB,CAAmC,SAAnC,EACAZ,CAAC,CAAC,mBAAD,CAAD,CAAuBa,QAAvB,CAAgC,WAAhC,EACAb,CAAC,CAAC,iBAAD,CAAD,CAAqBc,QAArB,CAA8B,CAACC,MAAM,CAAE,aAAT,CAA9B,EACAf,CAAC,CAAC,iBAAD,CAAD,CAAqBgB,gBAArB,GACAhB,CAAC,CAAC,2BAAD,CAAD,CAA+BE,IAA/B,CAAoC,UAAW,IACvCe,CAAAA,CAAI,CAAGjB,CAAC,CAAC,IAAD,CAAD,CAAQkB,MAAR,GAAiBV,IAAjB,CAAsB,MAAtB,EAA8BW,OAA9B,CAAsC,cAAtC,CAAsD,+BAAtD,CADgC,CAEvCC,CAAK,CAAG,UAAYpB,CAAC,CAAC,IAAD,CAAD,CAAQqB,IAAR,CAAa,aAAb,EAA4BC,IAA5B,EAFmB,CAG3CtB,CAAC,CAAC,IAAD,CAAD,CAAQuB,MAAR,CAAe,oEAA+DN,CAA/D,CAAoE,aAApE,CAAgFG,CAAhF,CAAsF,6CAArG,CACH,CAJD,EAKA,QACH,CAbD,EAcApB,CAAC,CAAC,cAAD,CAAD,CAAkBW,KAAlB,CAAwB,UAAW,CAC/B,GAAIa,CAAAA,CAAW,CAAG,EAAlB,CACAxB,CAAC,CAAC,oBAAD,CAAD,CAAwBE,IAAxB,CAA6B,UAAW,CACpCsB,CAAW,CAACC,IAAZ,CAAiB,GAAIC,CAAAA,MAAJ,CAAW1B,CAAC,CAAC,IAAD,CAAD,CAAQQ,IAAR,CAAa,UAAb,CAAX,CAAjB,CACH,CAFD,EAIAR,CAAC,CAAC2B,IAAF,CAAO3B,CAAC,CAAC,iBAAD,CAAD,CAAqBQ,IAArB,CAA0B,MAA1B,CAAP,CAA0C,CAACoB,CAAC,CAAEJ,CAAW,CAACK,IAAZ,CAAiB,GAAjB,CAAJ,CAA1C,EAEA7B,CAAC,CAAC,cAAD,CAAD,CAAkBS,IAAlB,GACAT,CAAC,CAAC,mBAAD,CAAD,CAAuBU,IAAvB,GACAV,CAAC,CAAC,mBAAD,CAAD,CAAuBa,QAAvB,CAAgC,SAAhC,EACAb,CAAC,CAAC,mBAAD,CAAD,CAAuBY,WAAvB,CAAmC,WAAnC,EACCZ,CAAC,CAAC,8BAAD,CAAD,CAAkC8B,MAAlC,GACD,QACH,CAdD,CAeH,CAxCE,CA0CV,CA5CK,CAAN","sourcesContent":["define(['jquery', 'jqueryui', 'theme_hillhead/jquery.ui.touch-punch-improved'], function($) {\n \n    return {\n        init: function() {\n            \n            $(\"#starredCourses\").each(function() {\n               $(this).html($(this).children('li').sort(function(a, b){\n                    return ($(b).attr('order')) < ($(a).attr('order')) ? 1 : -1;\n                }));\n            });\n            \n            $(\"#saveSidebar\").hide();\n            $(\"#rearrangeSidebar\").show();\n            $(\"#rearrangeSidebar\").click(function() {\n                $(\"#rearrangeSidebar\").hide();\n                $(\"#saveSidebar\").show();\n                $(\"#starredCourses i\").removeClass(\"fa-star\");\n                $(\"#starredCourses i\").addClass(\"fa-arrows\");\n                $(\"#starredCourses\").sortable({cancel: '.allcourses'});\n                $(\"#starredCourses\").disableSelection();\n                $(\"#starredCourses li .media\").each(function() {\n                    var link = $(this).parent().attr(\"href\").replace(\"/course/view\", \"/theme/hillhead/course-unstar\");\n                    var title = \"Unstar \" + $(this).find(\".media-body\").text();\n                    $(this).append('<span class=\"media-right\"><a class=\"unpinCourseBadge\" href=\"'+link+'\" title=\"'+title+'\"><i class=\"fa fa-trash\"></i></a></span>');\n                });\n                return false;\n            });\n            $(\"#saveSidebar\").click(function() {\n                var courseOrder = [];\n                $(\"#starredCourses li\").each(function() {\n                    courseOrder.push(new Number($(this).attr(\"courseid\")));\n                });\n                \n                $.post($(\"#starredCourses\").attr(\"save\"), {o: courseOrder.join(',')});\n                \n                $(\"#saveSidebar\").hide();\n                $(\"#rearrangeSidebar\").show();\n                $(\"#starredCourses i\").addClass(\"fa-star\");\n                $(\"#starredCourses i\").removeClass(\"fa-arrows\");\n                 $(\"#starredCourses .media-right\").remove();\n                return false;\n            });\n        }\n    };\n});"],"file":"starredcourses.min.js"}